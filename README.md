# Secure EHR CLI System (升级版)

## 项目功能

- 使用 AES-256 加密健康记录
- 支持基于角色的访问控制（患者/医生/管理员）
- 记录所有健康记录的访问和修改操作（审计日志）
- 命令行界面友好操作

## 角色权限

| 角色 | 权限 |
|:---|:---|
| Patient | 查看自己的健康记录 |
| Doctor | 查看/新增/修改/删除自己管理的患者健康记录 |
| Admin | 添加新用户、查看审计日志 |

## 使用方式

1. 安装依赖
```
pip install cryptography
```

2. 运行主程序
```
python main.py
```

3. 第一次运行自动生成AES密钥，并初始化数据文件。

## 文件说明

- `users.json`：用户数据
- `records.json`：加密后的患者记录
- `key.bin`：AES加密密钥
- `audit.log`：审计日志记录文件

## 注意事项

- 请妥善保管 `key.bin`，丢失后无法解密患者数据。
- 审计日志记录所有访问和修改健康记录的行为。
